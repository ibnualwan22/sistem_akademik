{% extends 'core/base.html' %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
    
    <div class="d-flex justify-content-between align-items-center mb-4">
        
        <h1 class="mb-0">{{ page_title }}</h1>
        
        <form method="GET" action="{% url 'core:semua_santri' %}" class="w-50">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="Cari nama santri..." value="{{ request.GET.q }}">
                <button class="btn btn-primary" type="submit">Cari</button>
            </div>
        </form>

    </div>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="aktif-tab" data-bs-toggle="tab" data-bs-target="#aktif-tab-pane" type="button" role="tab" aria-controls="aktif-tab-pane" aria-selected="true">Santri Aktif</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="lulus-tab" data-bs-toggle="tab" data-bs-target="#lulus-tab-pane" type="button" role="tab" aria-controls="lulus-tab-pane" aria-selected="false">Lulusan</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="nonaktif-tab" data-bs-toggle="tab" data-bs-target="#nonaktif-tab-pane" type="button" role="tab" aria-controls="nonaktif-tab-pane" aria-selected="false">Non-Aktif</button>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active p-3 border border-top-0" id="aktif-tab-pane" role="tabpanel" aria-labelledby="aktif-tab" tabindex="0">
            <div class="list-group list-group-flush">
                {% for santri in santri_aktif_list %}
                    <a href="{% url 'core:detail_santri' santri.pk %}" class="list-group-item list-group-item-action">{{ santri.nama_lengkap }}</a>
                {% empty %}
                    <p class="text-muted">Tidak ada santri aktif yang cocok dengan pencarian Anda.</p>
                {% endfor %}
            </div>
        </div>
        <div class="tab-pane fade p-3 border border-top-0" id="lulus-tab-pane" role="tabpanel" aria-labelledby="lulus-tab" tabindex="0">
            <div class="list-group list-group-flush">
                {% for santri in santri_lulus_list %}
                    <a href="{% url 'core:detail_santri' santri.pk %}" class="list-group-item list-group-item-action">{{ santri.nama_lengkap }}</a>
                {% empty %}
                    <p class="text-muted">Tidak ada Prngurus/Abdi dalem yang cocok dengan pencarian Anda.</p>
                {% endfor %}
            </div>
        </div>
        <div class="tab-pane fade p-3 border border-top-0" id="nonaktif-tab-pane" role="tabpanel" aria-labelledby="nonaktif-tab" tabindex="0">
            <div class="list-group list-group-flush">
                {% for santri in santri_nonaktif_list %}
                    <a href="{% url 'core:detail_santri' santri.pk %}" class="list-group-item list-group-item-action">{{ santri.nama_lengkap }}</a>
                {% empty %}
                    <p class="text-muted">Tidak ada santri non-aktif yang cocok dengan pencarian Anda.</p>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endblock %}